!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self)["fast-copy"]={})}(this,function(t){"use strict";const r=Function.prototype.toString,e=Object.prototype.toString;function n(t){if(!t)return Object.create(null);const e=t.constructor;if(e===Object)return t===Object.prototype?{}:Object.create(t);if(e&&~r.call(e).indexOf("[native code]"))try{return new e}catch(t){}return Object.create(t)}const{hasOwnProperty:o,propertyIsEnumerable:c}=Object.prototype;function a(t,r,e,n){const o=Object.getOwnPropertyDescriptor(t,e)||{configurable:!0,enumerable:!0,value:t[e],writable:!0},c=o.get||o.set?o:{configurable:o.configurable,enumerable:o.enumerable,value:n.copier(o.value,n),writable:o.writable};try{Object.defineProperty(r,e,c)}catch(t){r[e]=c.get?c.get():c.value}}function u(t,r,e){const n=Object.getOwnPropertyNames(t);for(let o=0;o<n.length;++o)a(t,r,n[o],e);const o=Object.getOwnPropertySymbols(t);for(let n=0;n<o.length;++n)a(t,r,o[n],e);return r}function i(t,r){const e=new r.Constructor;r.cache.set(t,e);for(let n=0;n<t.length;++n)e[n]=r.copier(t[n],r);return e}function f(t,r){const e=new r.Constructor;return r.cache.set(t,e),u(t,e,r)}function s(t,r){return t.slice(0)}function p(t,r){return t.slice(0,t.size,t.type)}function y(t,r){return new r.Constructor(s(t.buffer))}function l(t,r){return new r.Constructor(t.getTime())}function b(t,r){const e=new r.Constructor;return r.cache.set(t,e),t.forEach((t,n)=>{e.set(n,r.copier(t,r))}),e}function g(t,r){return u(t,b(t,r),r)}function h(t,r){const e=n(r.prototype);r.cache.set(t,e);for(const n in t)o.call(t,n)&&(e[n]=r.copier(t[n],r));const a=Object.getOwnPropertySymbols(t);for(let n=0;n<a.length;++n){const o=a[n];c.call(t,o)&&(e[o]=r.copier(t[o],r))}return e}function d(t,r){const e=n(r.prototype);return r.cache.set(t,e),u(t,e,r)}function O(t,r){return new r.Constructor(t.valueOf())}function j(t,r){const e=new r.Constructor(t.source,t.flags);return e.lastIndex=t.lastIndex,e}function w(t,r){return t}function m(t,r){const e=new r.Constructor;return r.cache.set(t,e),t.forEach(t=>{e.add(r.copier(t,r))}),e}function A(t,r){return u(t,m(t,r),r)}function C(){return new WeakMap}function B({createCache:t,methods:r,strict:e}){const n={array:e?f:i,arrayBuffer:s,blob:p,dataView:y,date:l,error:w,map:e?g:b,object:e?d:h,regExp:j,set:e?A:m},o=r?Object.assign(n,r):n,c=function(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:O,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:O,Object:t.object,Promise:w,RegExp:t.regExp,Set:t.set,String:O,WeakMap:w,WeakSet:w,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}(o),a=t||C;if(!c.Object||!c.Array)throw new Error("An object and array copier must be provided.");return{createCache:a,copiers:c,methods:o,strict:Boolean(e)}}function v(t={}){const{createCache:r,copiers:n}=B(t),{Array:o,Object:c}=n;function a(t,r){if(r.prototype=r.Constructor=void 0,!t||"object"!=typeof t)return t;if(r.cache.has(t))return r.cache.get(t);if(r.prototype=Object.getPrototypeOf(t),r.Constructor=r.prototype&&r.prototype.constructor,!r.Constructor||r.Constructor===Object)return c(t,r);if(Array.isArray(t))return o(t,r);const a=n[function(t){const r=t[Symbol.toStringTag];if(r)return r;const n=e.call(t);return n.substring(8,n.length-1)}(t)];return a?a(t,r):"function"==typeof t.then?t:c(t,r)}return function(t){return a(t,{Constructor:void 0,cache:r(),copier:a,prototype:void 0})}}const S=v({strict:!0}),x=v();t.copy=x,t.copyStrict=S,t.createCopier=v});
//# sourceMappingURL=index.js.map
